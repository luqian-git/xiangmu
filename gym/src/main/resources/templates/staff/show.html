<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>健身中心</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <style type="text/css">
        body {
            margin: 40px;
            text-align: center;
            padding: 0px;
            background-size: cover;
        }

        img {
            width: 50px;
            height: 40px;
        }
    </style>
</head>
<body>


<a href="/staff/add">入职员工</a>
<h1>员工管理</h1>
<form action="/staff/show" id="myform">
    <select onchange="submitForm();" name="coachPosition">
        <option th:each="r,item:${roles}" th:selected="${r.roId == coachPosition}?selected" th:value="${r.roId}"
                th:text="${r.roName}"></option>
    </select>
</form>
<table class="table table-bordered">
    <tr>
        <td>序号</td>
        <td>编号</td>
        <td>入职时间</td>
        <td>姓名</td>
        <td>性别</td>
        <td>年龄</td>
        <td>头像</td>
        <td>标签</td>
        <td>介绍</td>
        <td>职位</td>
        <td>职位说明</td>
        <td>状态</td>
        <td>修改</td>
    </tr>
    <tr th:each="c,item:${coachs}">
        <td th:text="${item.count}">序号</td>
        <td th:text="${c.coachNumber}"></td>
        <td th:text="${c.coachDate}"></td>
        <td th:text="${c.coachName}"></td>
        <td th:text="${c.coachSex}"></td>
        <td th:text="${c.coachAge}"></td>
        <td>
            <img th:src="${c.coachHead}">
        </td>
        <td th:text="${c.coachLabel}"></td>
        <td th:text="${c.coachIntroduce}"></td>
        <td th:text="${c.role.roName}"></td>
        <td th:text="${c.role.roDesc}"></td>
        <td th:text="${c.coachStatus}"></td>
        <td>
            <a th:href="@{/staff/edit(coachId=${c.coachId})}">修改</a>
        </td>
    </tr>

</table>
<div style="margin-left: -40px;" th:if="${num != 0}">
    <b th:if="${poo} ne '1'">
        <a th:href="@{/staff/show(page=${poo -1 },coachPosition=${coachPosition})}">上一页</a>
    </b>
    <span th:each="page :${#numbers.sequence(1,num)}">

       <i th:if="${page} eq ${poo}">
         <b th:text="${page}"></b>
      </i>
      <i th:if="${page} ne ${poo}">
         <a th:href="@{/staff/show(page=${page},coachPosition=${coachPosition})}" th:text="${page}"></a>
      </i>
   </span>
    <b th:if="${poo} ne ${num}">
        <a th:href="@{/staff/show(page=${poo+1},coachPosition=${coachPosition})}">下一页</a>
    </b>
</div>
<script>
    function submitForm() {
        var form = document.getElementById("myform");
        form.submit();
    }
</script>
<script src="/lib/jquery/jquery.js"></script>
</body>
</html>